<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Spicepods: From Zero To Hero | Spice.ai blog</title>
<meta name=description content="In my previous post, Teaching Apps how to Learn with Spicepods, I introduced Spicepods as packages of configuration that describe an application&amp;rsquo;s data-driven goals and how it should learn from data. To leverage Spice.ai in your application, you can author a Spicepod from scratch or build upon one fetched from the spicerack.org registry. In this post, we&amp;rsquo;ll walk through the creation and authoring of a Spicepod step-by-step from scratch.
As a refresher, a Spicepod consists of:"><meta property="og:title" content="Spicepods: From Zero To Hero"><meta property="og:description" content="In my previous post, Teaching Apps how to Learn with Spicepods, I introduced Spicepods as packages of configuration that describe an application&rsquo;s data-driven goals and how it should learn from data. To leverage Spice.ai in your application, you can author a Spicepod from scratch or build upon one fetched from the spicerack.org registry. In this post, we&rsquo;ll walk through the creation and authoring of a Spicepod step-by-step from scratch.
As a refresher, a Spicepod consists of:"><meta property="og:type" content="article"><meta property="og:url" content="/posts/2021/12/02/spicepods-from-zero-to-hero/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-02T00:00:00+00:00"><meta property="article:modified_time" content="2022-04-18T19:44:42+09:00"><meta itemprop=name content="Spicepods: From Zero To Hero"><meta itemprop=description content="In my previous post, Teaching Apps how to Learn with Spicepods, I introduced Spicepods as packages of configuration that describe an application&rsquo;s data-driven goals and how it should learn from data. To leverage Spice.ai in your application, you can author a Spicepod from scratch or build upon one fetched from the spicerack.org registry. In this post, we&rsquo;ll walk through the creation and authoring of a Spicepod step-by-step from scratch.
As a refresher, a Spicepod consists of:"><meta itemprop=datePublished content="2021-12-02T00:00:00+00:00"><meta itemprop=dateModified content="2022-04-18T19:44:42+09:00"><meta itemprop=wordCount content="1485"><meta itemprop=keywords content="spicepod,agile ml,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Spicepods: From Zero To Hero"><meta name=twitter:description content="In my previous post, Teaching Apps how to Learn with Spicepods, I introduced Spicepods as packages of configuration that describe an application&rsquo;s data-driven goals and how it should learn from data. To leverage Spice.ai in your application, you can author a Spicepod from scratch or build upon one fetched from the spicerack.org registry. In this post, we&rsquo;ll walk through the creation and authoring of a Spicepod step-by-step from scratch.
As a refresher, a Spicepod consists of:"><link rel=preload href=/scss/main.min.c7bcf05ef5788b253a46d12517e7c3d424e88556a5c948c57b677e1a1f7cc26b.css as=style><link href=/scss/main.min.c7bcf05ef5788b253a46d12517e7c3d424e88556a5c948c57b677e1a1f7cc26b.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script></head><body class="td-page td-blog"><header><nav class="td-navbar navbar-dark js-navbar-scroll"><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>Spice.ai blog</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://github.com/spiceai/spiceai target=_blank rel=noopener><span>GitHub</span></a></li></ul></div><div class="d-none d-lg-block"></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-posts-li><a href=/posts/ title="Spice.ai blog" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-posts><span>Blog</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20240325announcing-the-release-of-spiceai-v091-alpha-li><a href=/posts/2024/03/25/announcing-the-release-of-spice.ai-v0.9.1-alpha/ title="Announcing the release of Spice.ai v0.9.1-alpha" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20240325announcing-the-release-of-spiceai-v091-alpha><span>Spice.ai v0.9.1-alpha is now available</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20240315announcing-the-release-of-spiceai-v09-alpha-li><a href=/posts/2024/03/15/announcing-the-release-of-spice.ai-v0.9-alpha/ title="Announcing the release of Spice.ai v0.9-alpha" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20240315announcing-the-release-of-spiceai-v09-alpha><span>Spice.ai v0.9-alpha is now available</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20240308announcing-the-release-of-spiceai-v08-alpha-li><a href=/posts/2024/03/08/announcing-the-release-of-spice.ai-v0.8-alpha/ title="Announcing the release of Spice.ai v0.8-alpha" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20240308announcing-the-release-of-spiceai-v08-alpha><span>Spice.ai v0.8-alpha is now available</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20240223announcing-the-release-of-spiceai-v07-alpha-li><a href=/posts/2024/02/23/announcing-the-release-of-spice.ai-v0.7-alpha/ title="Announcing the release of Spice.ai v0.7-alpha" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20240223announcing-the-release-of-spiceai-v07-alpha><span>Spice.ai v0.7-alpha is now available</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20220510building-on-apache-arrow-and-flight-li><a href=/posts/2022/05/10/building-on-apache-arrow-and-flight/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20220510building-on-apache-arrow-and-flight><span>Building on Apache Arrow and Flight</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20220421announcing-the-release-of-spiceai-v061-alpha-li><a href=/posts/2022/04/21/announcing-the-release-of-spice.ai-v0.6.1-alpha/ title="Announcing the release of Spice.ai v0.6.1-alpha" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20220421announcing-the-release-of-spiceai-v061-alpha><span>Spice.ai v0.6.1-alpha is now available</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20220208announcing-the-release-of-spiceai-v06-alpha-li><a href=/posts/2022/02/08/announcing-the-release-of-spice.ai-v0.6-alpha/ title="Announcing the release of Spice.ai v0.6-alpha" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20220208announcing-the-release-of-spiceai-v06-alpha><span>Spice.ai v0.6-alpha is now available</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20220112adding-soft-actor-critic-li><a href=/posts/2022/01/12/adding-soft-actor-critic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20220112adding-soft-actor-critic><span>Adding Soft Actor-Critic</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20220104what-data-informs-ai-driven-decision-making-li><a href=/posts/2022/01/04/what-data-informs-ai-driven-decision-making/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20220104what-data-informs-ai-driven-decision-making><span>What Data Informs AI-driven Decision Making?</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20211230a-new-class-of-applications-that-learn-and-adapt-li><a href=/posts/2021/12/30/a-new-class-of-applications-that-learn-and-adapt/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20211230a-new-class-of-applications-that-learn-and-adapt><span>A New Class of Applications That Learn and Adapt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20211228announcing-the-release-of-spiceai-v051-alpha-li><a href=/posts/2021/12/28/announcing-the-release-of-spice.ai-v0.5.1-alpha/ title="Announcing the release of Spice.ai v0.5.1-alpha" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20211228announcing-the-release-of-spiceai-v051-alpha><span>Spice.ai v0.5.1-alpha is now available</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20211215understanding-q-learning-how-a-reward-is-all-you-need-li><a href=/posts/2021/12/15/understanding-q-learning-how-a-reward-is-all-you-need/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20211215understanding-q-learning-how-a-reward-is-all-you-need><span>Understanding Q-learning: How a Reward Is All You Need</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20211206announcing-the-release-of-spiceai-v05-alpha-li><a href=/posts/2021/12/06/announcing-the-release-of-spice.ai-v0.5-alpha/ title="Announcing the release of Spice.ai v0.5-alpha" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20211206announcing-the-release-of-spiceai-v05-alpha><span>Spice.ai v0.5-alpha is now available</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20211205ai-needs-ai-ready-data-li><a href=/posts/2021/12/05/ai-needs-ai-ready-data/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20211205ai-needs-ai-ready-data><span>AI needs AI-ready data</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-posts20211202spicepods-from-zero-to-hero-li><a href=/posts/2021/12/02/spicepods-from-zero-to-hero/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-posts20211202spicepods-from-zero-to-hero><span class=td-sidebar-nav-active-item>Spicepods: From Zero To Hero</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20211122announcing-the-release-of-spiceai-v041-alpha-li><a href=/posts/2021/11/22/announcing-the-release-of-spice.ai-v0.4.1-alpha/ title="Announcing the release of Spice.ai v0.4.1-alpha" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20211122announcing-the-release-of-spiceai-v041-alpha><span>Spice.ai v0.4.1-alpha is now available</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20211118spiceais-approach-to-time-series-ai-li><a href=/posts/2021/11/18/spice.ais-approach-to-time-series-ai/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20211118spiceais-approach-to-time-series-ai><span>Spice.ai's approach to Time-Series AI</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20211115announcing-the-release-of-spiceai-v04-alpha-li><a href=/posts/2021/11/15/announcing-the-release-of-spice.ai-v0.4-alpha/ title="Announcing the release of Spice.ai v0.4-alpha" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20211115announcing-the-release-of-spiceai-v04-alpha><span>Spice.ai v0.4-alpha is now available</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20211115teaching-apps-how-to-learn-with-spicepods-li><a href=/posts/2021/11/15/teaching-apps-how-to-learn-with-spicepods/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20211115teaching-apps-how-to-learn-with-spicepods><span>Teaching Apps how to Learn with Spicepods</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20211105making-apps-that-learn-and-adapt-li><a href=/posts/2021/11/05/making-apps-that-learn-and-adapt/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20211105making-apps-that-learn-and-adapt><span>Making Apps That Learn And Adapt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20211102announcing-the-release-of-spiceai-v031-alpha-li><a href=/posts/2021/11/02/announcing-the-release-of-spice.ai-v0.3.1-alpha/ title="Announcing the release of Spice.ai v0.3.1-alpha" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20211102announcing-the-release-of-spiceai-v031-alpha><span>Spice.ai v0.3.1-alpha is now available</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20211026spiceai-v03-alpha-is-now-available-li><a href=/posts/2021/10/26/spice.ai-v0.3-alpha-is-now-available/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20211026spiceai-v03-alpha-is-now-available><span>Spice.ai v0.3-alpha is now available</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20211012announcing-the-release-of-spiceai-v021-alpha-li><a href=/posts/2021/10/12/announcing-the-release-of-spice.ai-v0.2.1-alpha/ title="Announcing the release of Spice.ai v0.2.1-alpha" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20211012announcing-the-release-of-spiceai-v021-alpha><span>Spice.ai v0.2.1-alpha is now available</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20211004spiceai-v02-alpha-is-now-available-li><a href=/posts/2021/10/04/spice.ai-v0.2-alpha-is-now-available/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20211004spiceai-v02-alpha-is-now-available><span>Spice.ai v0.2-alpha is now available</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-posts20210907introducing-spiceai-open-source-time-series-ai-for-developers-li><a href=/posts/2021/09/07/introducing-spice.ai-open-source-time-series-ai-for-developers/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-posts20210907introducing-spiceai-open-source-time-series-ai-for-developers><span>Introducing Spice.ai - open source, time series AI for developers</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a id=print href=/posts/_print/><i class="fa-solid fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#fast-iterations>Fast iterations</a></li><li><a href=#creating-a-spicepod>Creating a Spicepod</a></li><li><a href=#authoring-a-spicepod-manifest>Authoring a Spicepod manifest</a></li><li><a href=#adding-a-dataspace>Adding a dataspace</a></li><li><a href=#adding-actions>Adding actions</a></li><li><a href=#adding-rewards>Adding rewards</a></li><li><a href=#putting-it-all-together>Putting it all together</a></li><li><a href=#summary>Summary</a><ul><li><a href=#learn-more-and-contribute>Learn more and contribute</a></li></ul></li></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-categories"><h5 class=taxonomy-title>Categories</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/categories/applications/ data-taxonomy-term=applications><span class=taxonomy-label>Applications</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=/categories/data/ data-taxonomy-term=data><span class=taxonomy-label>Data</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/categories/data-engineering/ data-taxonomy-term=data-engineering><span class=taxonomy-label>Data Engineering</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/categories/deep-learning/ data-taxonomy-term=deep-learning><span class=taxonomy-label>Deep Learning</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/categories/learn-and-adapt/ data-taxonomy-term=learn-and-adapt><span class=taxonomy-label>Learn-and-Adapt</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=/categories/reinforcement-learning/ data-taxonomy-term=reinforcement-learning><span class=taxonomy-label>Reinforcement Learning</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/categories/release/ data-taxonomy-term=release><span class=taxonomy-label>Release</span><span class=taxonomy-count>14</span></a></li><li><a class=taxonomy-term href=/categories/spice.xyz/ data-taxonomy-term=spice.xyz><span class=taxonomy-label>Spice.xyz</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/categories/time-series-ai/ data-taxonomy-term=time-series-ai><span class=taxonomy-label>Time-Series Ai</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/categories/web3/ data-taxonomy-term=web3><span class=taxonomy-label>Web3</span><span class=taxonomy-count>1</span></a></li></ul></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tags</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/tags/actor-critic/ data-taxonomy-term=actor-critic><span class=taxonomy-label>Actor-Critic</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/agile-ml/ data-taxonomy-term=agile-ml><span class=taxonomy-label>Agile Ml</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=/tags/agile-ml-arrow-flight-sql/ data-taxonomy-term=agile-ml-arrow-flight-sql><span class=taxonomy-label>Agile Ml Arrow Flight SQL</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/arrow/ data-taxonomy-term=arrow><span class=taxonomy-label>Arrow</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/tags/categorical-data/ data-taxonomy-term=categorical-data><span class=taxonomy-label>Categorical Data</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/cnn/ data-taxonomy-term=cnn><span class=taxonomy-label>Cnn</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/dashboard/ data-taxonomy-term=dashboard><span class=taxonomy-label>Dashboard</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/data/ data-taxonomy-term=data><span class=taxonomy-label>Data</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/tags/data-connectors/ data-taxonomy-term=data-connectors><span class=taxonomy-label>Data Connectors</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/data-processors/ data-taxonomy-term=data-processors><span class=taxonomy-label>Data Processors</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/data-acceleration/ data-taxonomy-term=data-acceleration><span class=taxonomy-label>Data-Acceleration</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/datafusion/ data-taxonomy-term=datafusion><span class=taxonomy-label>Datafusion</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/datalake/ data-taxonomy-term=datalake><span class=taxonomy-label>Datalake</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/dataspaces/ data-taxonomy-term=dataspaces><span class=taxonomy-label>Dataspaces</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/decision-engines/ data-taxonomy-term=decision-engines><span class=taxonomy-label>Decision Engines</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/decision-trees/ data-taxonomy-term=decision-trees><span class=taxonomy-label>Decision Trees</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/duckdb/ data-taxonomy-term=duckdb><span class=taxonomy-label>Duckdb</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/expert-systems/ data-taxonomy-term=expert-systems><span class=taxonomy-label>Expert Systems</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/flight-sql/ data-taxonomy-term=flight-sql><span class=taxonomy-label>Flight-Sql</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/numpy/ data-taxonomy-term=numpy><span class=taxonomy-label>Numpy</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/observability/ data-taxonomy-term=observability><span class=taxonomy-label>Observability</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/otel/ data-taxonomy-term=otel><span class=taxonomy-label>Otel</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/pandas/ data-taxonomy-term=pandas><span class=taxonomy-label>Pandas</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/performance/ data-taxonomy-term=performance><span class=taxonomy-label>Performance</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/tags/postgresql/ data-taxonomy-term=postgresql><span class=taxonomy-label>Postgresql</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/q-learning/ data-taxonomy-term=q-learning><span class=taxonomy-label>Q-Learning</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/rewards/ data-taxonomy-term=rewards><span class=taxonomy-label>Rewards</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/rnn/ data-taxonomy-term=rnn><span class=taxonomy-label>Rnn</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/rust/ data-taxonomy-term=rust><span class=taxonomy-label>Rust</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/secrets/ data-taxonomy-term=secrets><span class=taxonomy-label>Secrets</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/spice.xyz/ data-taxonomy-term=spice.xyz><span class=taxonomy-label>Spice.xyz</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/spicepod/ data-taxonomy-term=spicepod><span class=taxonomy-label>Spicepod</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/tags/sqlite/ data-taxonomy-term=sqlite><span class=taxonomy-label>Sqlite</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/td-learning/ data-taxonomy-term=td-learning><span class=taxonomy-label>Td-Learning</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/tensors/ data-taxonomy-term=tensors><span class=taxonomy-label>Tensors</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/training/ data-taxonomy-term=training><span class=taxonomy-label>Training</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/transformers/ data-taxonomy-term=transformers><span class=taxonomy-label>Transformers</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/upgrade/ data-taxonomy-term=upgrade><span class=taxonomy-label>Upgrade</span><span class=taxonomy-count>2</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5 pe-md-4" role=main><div class=td-content><h1>Spicepods: From Zero To Hero</h1><div class="td-byline mb-4">By <b>Luke Kim (<a href=https://twitter.com/0xLukeKim>@0xLukeKim</a>)</b> |
<time datetime=2021-12-02 class=text-muted>Thursday, December 02, 2021</time></div><header class=article-meta><div class="taxonomy taxonomy-terms-article taxo-categories"><h5 class=taxonomy-title>Categories:</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/categories/applications/ data-taxonomy-term=applications><span class=taxonomy-label>Applications</span></a></li><li><a class=taxonomy-term href=/categories/learn-and-adapt/ data-taxonomy-term=learn-and-adapt><span class=taxonomy-label>Learn-and-Adapt</span></a></li></ul></div><div class="taxonomy taxonomy-terms-article taxo-tags"><h5 class=taxonomy-title>Tags:</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/tags/spicepod/ data-taxonomy-term=spicepod><span class=taxonomy-label>Spicepod</span></a></li><li><a class=taxonomy-term href=/tags/agile-ml/ data-taxonomy-term=agile-ml><span class=taxonomy-label>Agile Ml</span></a></li></ul></div></header><p>In my previous post, <a href=https://blog.spiceai.org/posts/2021/11/15/teaching-apps-how-to-learn-with-spicepods/>Teaching Apps how to Learn with Spicepods</a>, I introduced Spicepods as packages of configuration that describe an application&rsquo;s data-driven goals and how it should learn from data. To leverage Spice.ai in your application, you can author a Spicepod from scratch or build upon one fetched from the spicerack.org registry. In this post, we&rsquo;ll walk through the creation and authoring of a Spicepod step-by-step from scratch.</p><p>As a refresher, a Spicepod consists of:</p><ul><li>A required YAML manifest that describes how the pod should learn from data</li><li>Optional seed data</li><li>Learned model/state</li><li>Performance telemetry and metrics</li></ul><p>We&rsquo;ll create the Spicepod for the <a href=https://github.com/spiceai/quickstarts/tree/trunk/serverops/README.md>ServerOps Quickstart</a>, an application that learns when to optimally run server maintenance operations based upon the CPU-usage patterns of a server machine.</p><p>We&rsquo;ll also use the Spice CLI, which you can install by following the <a href=https://docs.spiceai.org/getting-started/>Getting Started guide</a> or <a href="https://www.youtube.com/watch?v=DKBLjuAz_lI">Getting Started YouTube video</a>.</p><h2 id=fast-iterations>Fast iterations</h2><p>Modern web development workflows often include a file watcher to hot-reload so you can iteratively see the effect of your change with a live preview.</p><p>Spice.ai takes inspiration and enables a similar Spicepod manifest authoring experience. If you first start the Spice.ai runtime in your application root before creating your Spicepod, it will watch for changes and apply them continuously so that you can develop in a fast, iterative workflow.</p><p>You would normally do this by opening two terminal windows side-by-side, one that runs the runtime using the command <code>spice run</code> and one where you enter CLI commands. In addition, developers would open the Spice.ai dashboard located at <a href=http://localhost:8000>http://localhost:8000</a> to preview changes they make.</p><div style=display:flex;justify-content:center;padding:5px><div style=display:flex;flex-direction:column><img style=max-width:600px alt="Figure 1. Spice.ai's modern development workflow" src=https://user-images.githubusercontent.com/80174/144368808-1b1ce9dc-e296-42ff-a65d-44b8aa97605f.png></div></div><h2 id=creating-a-spicepod>Creating a Spicepod</h2><p>The easiest way to create a Spicepod is to use the Spice.ai CLI command: <code>spice init &lt;Spicepod name></code>. We&rsquo;ll make one in the ServerOps Quickstart application called <code>serverops</code>.</p><div style=display:flex;justify-content:center;padding:5px><div style=display:flex;flex-direction:column><img style=max-width:600px alt="Figure 2. Creating a Spicepod." src=https://user-images.githubusercontent.com/80174/144368947-2698d7e2-e451-4961-a289-d84f4f328eae.png></div></div><p>The CLI saves the Spicepod manifest file in the <code>spicepods</code> directory of your application. You can see it created a new serverops.yaml file, which should be included in your application and be committed to your source repository. Let&rsquo;s take a look at it.</p><div style=display:flex;justify-content:center;padding:5px><div style=display:flex;flex-direction:column><img style=max-width:600px alt="Figure 3. Spicepod manifest." src=https://user-images.githubusercontent.com/80174/144369087-59022f3d-84cc-4f8f-bceb-c60351ac69b7.png></div></div><p>The initialized manifest file is very simple. It contains a name and three main sections being:</p><ul><li>dataspaces</li><li>actions</li><li>training</li></ul><p>We&rsquo;ll walk through each of these in detail, and as a Spicepod author, you can always reference the documentation for the <a href=https://docs.spiceai.org/reference/pod/>Spicepod manifest syntax</a>.</p><h2 id=authoring-a-spicepod-manifest>Authoring a Spicepod manifest</h2><p>You author and edit Spicepod manifest files in your favorite text editor with a combination of Spice.ai CLI helper commands. We eventually plan to have a VS Code extension and dashboard/portal editing abilities to make this even easier.</p><h2 id=adding-a-dataspace>Adding a dataspace</h2><p>To build an intelligent, data-driven application, we must first start with data.</p><p>A Spice.ai <strong>dataspace</strong> is a logical grouping of data with definitions of how that data should be loaded and processed, usually from a single source. A combination of its data source and its name identifies it, for example, nasdaq/msft or twitter/tweets. Read more about Dataspaces in the <a href=https://docs.spiceai.org/concepts/dataspaces/>Core Concepts</a> documentation.</p><p>Let&rsquo;s add a dataspace to the Spicepod manifest to load CPU metric data from a CSV file. This file is a snapshot of data from <a href=https://www.influxdata.com/products/influxdb/>InfluxDB</a>, a time-series database we like.</p><div style=display:flex;justify-content:center;padding:5px><div style=display:flex;flex-direction:column><img style=max-width:600px alt="Figure 4. Adding a dataspace." src=https://user-images.githubusercontent.com/80174/144369723-4336a4d5-1637-42c8-94aa-369531d6d1f7.png></div></div><p>We can see this dataspace is identified by its source <code>hostmetrics</code> and name <code>cpu</code>. It includes a <code>data</code> section with a file data connector, the path to the file, and a data processor to know how to process it. In addition, it defines a single measurement <code>usage_idle</code> under the measurements section, which is a measurement of CPU load. In Spice.ai, measurements are the core primitive the AI engine uses to learn and is always numerical data. Spice.ai includes a growing library of community contributable data connectors and data processors you can consist of in your Spicepod to access data. You can also contribute your own.</p><p>Finally, because the data is a snapshot of live data loaded from a file, we must set a Spicepod <code>epoch_time</code> that defines the data&rsquo;s start Unix time.</p><p>Now we have a dataspace, called <code>hostmetrics/cpu</code>, that loads CSV data from a file and processes the data into a <code>usage_idle</code> measurement. The file connector might be swapped out with the InfluxDB connector in a production application to stream real-time CPU metrics into Spice.ai. And in addition, applications can always send real-time data to the Spice.ai runtime through its API with a simple HTTP POST (and in the future, using Web Sockets and gRPC).</p><h2 id=adding-actions>Adding actions</h2><p>Now that the Spicepod has data, let&rsquo;s define some data-driven actions so the ServerOps application can learn when is the best time to take them. We&rsquo;ll add three actions using the CLI helper command, <code>spice action add</code>.</p><div style=display:flex;justify-content:center;padding:5px><div style=display:flex;flex-direction:column><img style=max-width:600px alt="Figure 5. Adding actions." src=https://user-images.githubusercontent.com/80174/144369840-1dcea686-9661-408a-a8a4-c62e3d84093f.png></div></div><p>And in the manifest:</p><div style=display:flex;justify-content:center;padding:5px><div style=display:flex;flex-direction:column><img style=max-width:600px alt="Figure 6. Actions added to the manifest" src=https://user-images.githubusercontent.com/80174/144371117-5eb816aa-e088-4160-8f33-9dabf1a5bb7c.png></div></div><h2 id=adding-rewards>Adding rewards</h2><p>The Spicepod now has data and possible actions, so we can now define how it should learn when to take them. Similar to how humans learn, we can set rewards or punishments for actions taken based on their effect and the data. Let&rsquo;s add scaffold rewards for all actions using the <code>spice rewards add</code> command.</p><div style=display:flex;justify-content:center;padding:5px><div style=display:flex;flex-direction:column><img style=max-width:600px alt="Figure 7. Adding rewards" src=https://user-images.githubusercontent.com/80174/144371214-86803184-5100-45cb-a592-ac3114176dba.png></div></div><p>We now have rewards set for each action. The rewards are uniform (all the same), meaning the Spicepod is rewarded the same for each action. Higher rewards are better, so if we change <code>perform_maintenance</code> to 2, the Spicepod will learn to perform maintenance more often than the other actions. Of course, instead of setting these arbitrarily, we want to learn from data, and we can do that by referencing the state of data at each time-step in the time-series data as the AI engine trains.</p><div style=display:flex;justify-content:center;padding:5px><div style=display:flex;flex-direction:column><img style=max-width:600px alt="Figure 8. Rewards added to the manifest" src=https://user-images.githubusercontent.com/80174/144371299-70b40d99-85e1-4ab8-b1e1-f4f40aa27fc7.png></div></div><p>The rewards themselves are just code. Currently, we currently support Python code, either inline or in a .py <a href=https://docs.spiceai.org/concepts/rewards/external/>external code file</a> and we plan to support several other languages. The reward code can access the time-step state through the <code>prev_state</code> and <code>new_state</code> variables and the dataspace name. For the full documentation, see <a href=https://docs.spiceai.org/concepts/rewards/>Rewards</a>.</p><p>Let&rsquo;s add this reward code to perform_maintenance, which will reward performing maintenance when there is low CPU usage.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000>cpu_usage_prev</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>100</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>prev_state</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>hostmetrics_cpu_usage_idle</span>
</span></span><span style=display:flex><span><span style=color:#000>cpu_usage_new</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>100</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>new_state</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>hostmetrics_cpu_usage_idle</span>
</span></span><span style=display:flex><span><span style=color:#000>cpu_usage_delta</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>cpu_usage_prev</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>cpu_usage_new</span>
</span></span><span style=display:flex><span><span style=color:#000>reward</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>cpu_usage_delta</span> <span style=color:#ce5c00;font-weight:700>/</span> <span style=color:#0000cf;font-weight:700>100</span>
</span></span></code></pre></div><p>This code takes the CPU usage (100 minus the idle time) deltas between the previous time state and the current time state, and sets the reward to be a normalized delta value between 0 and 1. When the CPU usage is moving from higher <code>cpu_usage_prev</code> to lower <code>cpu_usage_low</code>, its a better time to run server maintenance and so we reward the inverse of the delta. E.g. <code>80% - 50% = 30% = 0.3</code>. However, if the CPU moves lower to higher, <code>50% - 80% = -30% = -0.3</code>, it&rsquo;s a bad time to run maintenance, so we provide a negative reward or &ldquo;punish&rdquo; the action.</p><div style=display:flex;justify-content:center;padding:5px><div style=display:flex;flex-direction:column><img style=max-width:600px alt="Figure 9. Reward code" src=https://user-images.githubusercontent.com/80174/144371629-497f0ed4-1217-4e55-b7dd-0eec3eb187ae.png></div></div><p>Through these rewards and punishments and the CPU metric data, the Spicepod will when it is a good time to perform maintence and be the decision engine for the ServerOps application. You might be thinking you could write code without AI to do this, which is true, but handling the variety of cases, like CPU spikes, or patterns in the data, like cyclical server load, would take a lot of code and a development time. Applying AI helps you build faster.</p><h2 id=putting-it-all-together>Putting it all together</h2><p>The manifest now has defined data, actions, and rewards. The Spicepod can get data to learn which actions to take and when based on the rewards provided.</p><p>If the Spice.ai runtime is running, the Spicepod automatically trains each time the manifest file is saved. As this happens reward performance can be monitored in the dashboard.</p><p>Once a training run completes, the application can query the Spicepod for a decision recommendation by calling the recommendations API http://localhost:8000/api/v0.1/pods/serverops/recommendation. The API returns a JSON document that provides the recommended action, the confidence of taking that action, and when that recommendation is valid.</p><p>In the <a href=https://github.com/spiceai/quickstarts/tree/trunk/serverops/README.md>ServerOps Quickstart</a>, this API is called from the server maintenance PowerShell script to make an intelligent decision on when to run maintenance. The <a href=https://github.com/spiceai/samples/tree/trunk/serverops/README.md>ServerOps Sample</a>, which uses live data, can be continuously trained to learn and adapt even as the live data changes due to load patterns changing.</p><p>The full Spicepod manifest from this walkthrough can be added from <a href=https://spicerack.org>spicerack.org</a> using the <code>spice add quickstarts/serverops</code> command.</p><h2 id=summary>Summary</h2><p>Leveraging Spice.ai to be the decision engine for your server maintenance application helps you build smarter applications, faster that will continue to learn and adapt over time, even as usage patterns change over time.</p><h3 id=learn-more-and-contribute>Learn more and contribute</h3><p>Building intelligent apps that leverage AI is still way too hard, even for advanced developers. Our mission is to make this as easy as creating a modern web page. If the vision resonates with you, join us!</p><p>Our <a href=https://github.com/spiceai/spiceai/blob/trunk/docs/ROADMAP.md>Spice.ai Roadmap</a> is public, and now that we have launched, the project and work are open for collaboration.</p><p>If you are interested in partnering, we&rsquo;d love to talk. Try out <a href=https://spiceai.org>Spice.ai</a>, <a href=mailto:hey@spice.ai>email us</a> &ldquo;hey,&rdquo; get in touch on <a href=https://discord.gg/kZnTfneP5u>Discord</a>, or reach out on <a href=https://twitter.com/spice_ai>Twitter</a>.</p><p>We are just getting started! 🚀</p><p>Luke</p><ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5"><li><a href=/posts/2021/11/22/announcing-the-release-of-spice.ai-v0.4.1-alpha/ aria-label="Previous - Announcing the release of Spice.ai v0.4.1-alpha" class="btn btn-primary"><span class=me-1>←</span>Previous</a></li><li><a href=/posts/2021/12/05/ai-needs-ai-ready-data/ aria-label="Next - AI needs AI-ready data" class="btn btn-primary">Next<span class=ms-1>→</span></a></li></ul></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://twitter.com/spice_ai aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Discord aria-label=Discord><a target=_blank rel=noopener href=https://discord.com/channels/803820740868571196/803820740868571199 aria-label=Discord><i class="fab fa-discord"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Reddit aria-label=Reddit><a target=_blank rel=noopener href=https://reddit.com/r/spiceai aria-label=Reddit><i class="fab fa-reddit"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/spiceai/spiceai aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2024
<span class=td-footer__authors>Spice AI, Inc.</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span></div></div></div></footer></div><script src=/js/main.min.a73a93a1ee5d1f86473a40e17450c3e9f2a71617a6fcd2b56b2e0104370ad537.js integrity="sha256-pzqToe5dH4ZHOkDhdFDD6fKnFhem/NK1ay4BBDcK1Tc=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.f724d3de49218995223b7316aa2e53e2b34bf42026bf399ebb21bb02212402d1.js integrity="sha256-9yTT3kkhiZUiO3MWqi5T4rNL9CAmvzmeuyG7AiEkAtE=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>